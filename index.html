<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8"/>
  <title>Simple Harmonic Calculator</title>
  <style>
    body { font-family: Arial, Helvetica, sans-serif; margin: 18px; background: #f7f9fb; color: #111; }
    h1 { margin-bottom: 6px; }
    .box { background: white; padding: 12px; border-radius: 8px; box-shadow: 0 1px 4px rgba(0,0,0,0.08); margin-bottom: 14px; }
    h3 { margin-top: 0; }
    label { display: inline-block; width: 140px; font-weight: bold; font-size: 0.9em; }
    input[type="text"] { width: 80px; padding: 4px; border: 1px solid #ddd; border-radius: 4px; margin-right: 4px; }
    button { padding: 8px 12px; margin: 4px; background: #1677ff; color: white; border: none; border-radius: 6px; cursor: pointer; }
    button:hover { background: #0d5eff; }
    .state-row { margin-bottom: 12px; padding: 10px; border: 1px solid #e6eef6; border-radius: 6px; background: #f9fcff; }
    .vars-container { display: flex; flex-wrap: wrap; }
    .var-group { display: inline-block; margin: 4px 6px; vertical-align: top; min-width: 160px; }
    .warning { color: #b91c1c; font-weight: 700; }
    table { width: 100%; border-collapse: collapse; margin-top: 8px; }
    td, th { border: 1px solid #e6eef6; padding: 6px; text-align: left; }
    th { background: #f0f8ff; }
    #result { display: none; }
    select { width: 120px; padding: 4px; }
    .hidden { display: none !important; }
    #helpModal {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      padding: 20px;
      border: 1px solid #ccc;
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
      z-index: 1000;
      overflow: auto;
      max-height: 80vh;
      max-width: 80vw;
      border-radius: 8px;
    }
    #helpModal h2 {
      margin-top: 0;
    }
    #helpModal button {
      background: #ff4d4f;
      margin-top: 10px;
    }
    #helpModal button:hover {
      background: #e60000;
    }
  </style>
</head>
<body>
  <h1>üìò Simple Harmonic Motion Calculator</h1>

  <div class="box">
    <button onclick="showHelp()">üìñ ‡∏î‡∏π‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</button>
    <button onclick="clearAll()">üßπ ‡∏•‡πâ‡∏≤‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
  </div>

  <div class="box">
    <h3>üìù ‡πÉ‡∏™‡πà‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</h3>
    <div>
      <label>‡∏£‡∏∞‡∏ö‡∏ö:</label>
      <select id="system" onchange="updateVisibility()">
        <option value="spring">‡∏™‡∏õ‡∏£‡∏¥‡∏á (Spring)</option>
        <option value="pendulum">‡∏•‡∏π‡∏Å‡∏ï‡∏∏‡πâ‡∏° (Pendulum)</option>
      </select>
    </div>
    <div id="stateContainer"></div>
    <br>
    <button onclick="calculate()">‚öôÔ∏è ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</button>
  </div>

  <div id="result" class="box"></div>

  <div id="helpModal">
    <h2>üìò ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°</h2>
    <p>1Ô∏è‚É£ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏ö‡∏ö: ‡∏™‡∏õ‡∏£‡∏¥‡∏á (Spring) ‡∏´‡∏£‡∏∑‡∏≠ ‡∏•‡∏π‡∏Å‡∏ï‡∏∏‡πâ‡∏° (Pendulum)<br>
    - ‡∏™‡∏õ‡∏£‡∏¥‡∏á: ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏°‡∏ß‡∏•‡∏ï‡∏¥‡∏î‡∏™‡∏õ‡∏£‡∏¥‡∏á (‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏™‡πà m ‡πÅ‡∏•‡∏∞ k)<br>
    - ‡∏•‡∏π‡∏Å‡∏ï‡∏∏‡πâ‡∏°: ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏•‡∏π‡∏Å‡∏ï‡∏∏‡πâ‡∏°‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏á‡πà‡∏≤‡∏¢ (‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏™‡πà L ‡πÅ‡∏•‡∏∞ g ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)</p>
    <p>2Ô∏è‚É£ ‡πÉ‡∏™‡πà‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏ó‡∏£‡∏≤‡∏ö‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏ï‡πà‡∏≤‡∏á ‡πÜ ‡πÄ‡∏ä‡πà‡∏ô:<br>
    - m: ‡∏°‡∏ß‡∏•‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏ (kg)<br>
    - k: ‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏á‡∏ï‡∏±‡∏ß‡∏™‡∏õ‡∏£‡∏¥‡∏á (N/m) ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏õ‡∏£‡∏¥‡∏á<br>
    - L: ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß‡∏™‡∏≤‡∏¢‡∏•‡∏π‡∏Å‡∏ï‡∏∏‡πâ‡∏° (m) ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏•‡∏π‡∏Å‡∏ï‡∏∏‡πâ‡∏°<br>
    - g: ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πà‡∏á‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡πÅ‡∏£‡∏á‡πÇ‡∏ô‡πâ‡∏°‡∏ñ‡πà‡∏ß‡∏á (m/s¬≤) ‡∏°‡∏±‡∏Å‡πÉ‡∏ä‡πâ‡∏Ñ‡πà‡∏≤ 9.81 ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏∞‡∏ö‡∏∏<br>
    - F: ‡πÅ‡∏£‡∏á‡∏î‡∏∂‡∏á‡∏Å‡∏•‡∏±‡∏ö (N) ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏≤‡∏Å F = -kx ‡∏´‡∏£‡∏∑‡∏≠ -m œâ¬≤ x<br>
    - x: ‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏à‡∏±‡∏î‡∏à‡∏≤‡∏Å‡∏à‡∏∏‡∏î‡∏™‡∏°‡∏î‡∏∏‡∏• (m)<br>
    - v: ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏ó‡∏±‡∏ô‡∏ó‡∏µ (m/s)<br>
    - a: ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πà‡∏á‡∏ó‡∏±‡∏ô‡∏ó‡∏µ (m/s¬≤)<br>
    - A: ‡πÅ‡∏≠‡∏°‡∏û‡∏•‡∏¥‡∏à‡∏π‡∏î‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏à‡∏±‡∏î‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (m)<br>
    - Vmax: ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (m/s) ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏≤‡∏Å Vmax = œâ A<br>
    - a_max: ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πà‡∏á‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (m/s¬≤) ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏≤‡∏Å a_max = œâ¬≤ A<br>
    - KE: ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏à‡∏•‡∏ô‡πå (J) ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏≤‡∏Å KE = ¬Ω m v¬≤<br>
    - PE: ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏®‡∏±‡∏Å‡∏¢‡πå (J) ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏≤‡∏Å PE = ¬Ω m œâ¬≤ x¬≤ ‡∏´‡∏£‡∏∑‡∏≠ ¬Ω k x¬≤ ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏õ‡∏£‡∏¥‡∏á<br>
    - E: ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏£‡∏ß‡∏° (J) ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏≤‡∏Å E = ¬Ω m œâ¬≤ A¬≤ ‡∏´‡∏£‡∏∑‡∏≠ KE + PE<br>
    - œâ: ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà‡πÄ‡∏ä‡∏¥‡∏á‡∏°‡∏∏‡∏° (rad/s) ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏≤‡∏Å ‚àö(k/m) ‡∏´‡∏£‡∏∑‡∏≠ ‚àö(g/L)<br>
    - f: ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà (Hz) ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏≤‡∏Å f = 1/T ‡∏´‡∏£‡∏∑‡∏≠ œâ/(2œÄ)<br>
    - T: ‡∏Ñ‡∏≤‡∏ö (s) ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏≤‡∏Å T = 2œÄ/œâ ‡∏´‡∏£‡∏∑‡∏≠ 1/f<br>
    - t: ‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏ô‡πÉ‡∏à (s) ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ï‡∏≤‡∏°‡πÄ‡∏ß‡∏•‡∏≤<br>
    - œÜ: ‡πÄ‡∏ü‡∏™‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô (rad) - ‡∏°‡∏∏‡∏°‡πÄ‡∏ü‡∏™ ‡∏ì t=0 ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô ‡πÄ‡∏ä‡πà‡∏ô œÜ=0 ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å‡∏à‡∏∏‡∏î‡∏™‡∏°‡∏î‡∏∏‡∏•, œÜ=œÄ/2 ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å‡πÅ‡∏≠‡∏°‡∏û‡∏•‡∏¥‡∏à‡∏π‡∏î (‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏™‡πà‡∏à‡∏∞‡∏™‡∏°‡∏°‡∏ï‡∏¥ œÜ=0)<br>
    - Œ¶: ‡πÄ‡∏ü‡∏™‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (rad) - ‡∏°‡∏∏‡∏°‡πÄ‡∏ü‡∏™‡∏£‡∏ß‡∏° ‡∏ì ‡πÄ‡∏ß‡∏•‡∏≤ t ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏≤‡∏Å Œ¶ = œâ t + œÜ</p>
    <p>3Ô∏è‚É£ ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° "‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</p>
    <p>4Ô∏è‚É£ ‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏à‡∏∞‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏Ç‡∏≤‡∏î‡∏´‡∏≤‡∏¢‡πÑ‡∏õ‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ ‡πÄ‡∏ä‡πà‡∏ô T, f, œâ, E, KE, PE, Vmax, a_max, x, v, a ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏ö</p>
    <p>‡πÄ‡∏Ñ‡∏•‡πá‡∏î‡∏•‡∏±‡∏ö:<br>
    - ‡πÉ‡∏™‡πà g = 9.81 ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏∞‡∏ö‡∏∏ (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏•‡∏π‡∏Å‡∏ï‡∏∏‡πâ‡∏°)<br>
    - ‡πÉ‡∏™‡πà A ‡πÅ‡∏•‡∏∞ œÜ ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì x, v, a ‡∏ï‡∏≤‡∏°‡πÄ‡∏ß‡∏•‡∏≤<br>
    - ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏ œÜ ‡∏à‡∏∞‡πÉ‡∏ä‡πâ œÜ = 0 (‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å‡∏™‡∏°‡∏î‡∏∏‡∏•)<br>
    - ‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏à‡∏∞‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ó‡∏∏‡∏Å‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ<br>
    - ‡∏ñ‡πâ‡∏≤‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏Ç‡∏≤‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏¢‡πà‡∏≤‡∏á m, x, t, œÜ ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà</p>
    <button onclick="closeHelp()">‡∏õ‡∏¥‡∏î</button>
  </div>

  <script>
    const varLabels = {
      m: '‡∏°‡∏ß‡∏• m (kg)',
      k: '‡∏™‡∏õ‡∏£‡∏¥‡∏á k (N/m)',
      L: '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß L (m)',
      g: '‡πÅ‡∏£‡∏á‡πÇ‡∏ô‡πâ‡∏°‡∏ñ‡πà‡∏ß‡∏á g (m/s¬≤)',
      sigmaF: '‡πÅ‡∏£‡∏á‡∏î‡∏∂‡∏á‡∏Å‡∏•‡∏±‡∏ö F (N)',
      x: '‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏à‡∏±‡∏î x (m)',
      v: '‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß v (m/s)',
      a: '‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πà‡∏á a (m/s¬≤)',
      A: '‡πÅ‡∏≠‡∏°‡∏û‡∏•‡∏¥‡∏à‡∏π‡∏î A (m)',
      Vmax: '‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î Vmax (m/s)',
      a_max: '‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πà‡∏á‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î a_max (m/s¬≤)',
      KE: '‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏à‡∏•‡∏ô‡πå KE (J)',
      PE: '‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏®‡∏±‡∏Å‡∏¢‡πå PE (J)',
      E: '‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏£‡∏ß‡∏° E (J)',
      omega: '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà‡πÄ‡∏ä‡∏¥‡∏á‡∏°‡∏∏‡∏° œâ (rad/s)',
      f: '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà f (Hz)',
      T: '‡∏Ñ‡∏≤‡∏ö T (s)',
      t: '‡πÄ‡∏ß‡∏•‡∏≤ t (s)',
      phi: '‡πÄ‡∏ü‡∏™‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô œÜ (rad)',
      Phi: '‡πÄ‡∏ü‡∏™‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î Œ¶ (rad)'
    };
    const allVars = Object.keys(varLabels);

    function createStateRow() {
      const div = document.createElement('div');
      div.className = 'state-row';
      div.innerHTML = `<h4>‡∏™‡∏†‡∏≤‡∏ß‡∏∞‡πÄ‡∏î‡∏µ‡∏¢‡∏ß</h4><div class="vars-container"></div>`;
      const varsContainer = div.querySelector('.vars-container');
      allVars.forEach(key => {
        const group = document.createElement('div');
        group.className = 'var-group';
        const label = document.createElement('label');
        label.textContent = varLabels[key];
        const input = document.createElement('input');
        input.type = 'text';
        input.id = `state1_${key}`;
        group.appendChild(label);
        group.appendChild(input);
        varsContainer.appendChild(group);
      });
      return div;
    }

    document.getElementById('stateContainer').appendChild(createStateRow());
    updateVisibility();

    function showHelp() {
      document.getElementById('helpModal').style.display = 'block';
    }

    function closeHelp() {
      document.getElementById('helpModal').style.display = 'none';
    }

    function clearAll() {
      document.querySelectorAll('input[type="text"]').forEach(i => i.value = '');
      document.getElementById('result').style.display = 'none';
    }

    function updateVisibility() {
      const system = document.getElementById('system').value;
      const isSpring = system === 'spring';
      allVars.forEach(key => {
        const input = document.getElementById(`state1_${key}`);
        const group = input ? input.parentElement : null;
        if (group) {
          if ((key === 'k' && !isSpring) || (key === 'L' && isSpring)) {
            group.classList.add('hidden');
          } else {
            group.classList.remove('hidden');
          }
        }
      });
    }

    function calculate() {
      const system = document.getElementById('system').value;
      const inputs = {};
      allVars.forEach(k => {
        const v = document.getElementById(`state1_${k}`).value;
        if (v.trim() !== '') inputs[k] = parseFloat(v);
      });

      let result = { ...inputs };
      let explanation = '';

      if (system === 'pendulum' && !('g' in result)) {
        result.g = 9.81;
        explanation += `‡πÉ‡∏ä‡πâ g = 9.81 m/s¬≤ (‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô)\n`;
      }

      if ('t' in result && !('phi' in result)) {
        result.phi = 0;
        explanation += `‡πÉ‡∏ä‡πâ œÜ = 0 rad (‡∏™‡∏°‡∏°‡∏ï‡∏¥‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å‡∏™‡∏°‡∏î‡∏∏‡∏• ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏ œÜ)\n`;
      }

      let changed = true;
      while (changed) {
        changed = false;

        if ('f' in result && !('T' in result)) {
          result.T = 1 / result.f;
          explanation += `‡∏Ñ‡∏≤‡∏ö: T = 1 / f = ${result.T.toFixed(4)} s\n`;
          changed = true;
        }
        if ('T' in result && !('f' in result)) {
          result.f = 1 / result.T;
          explanation += `‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà: f = 1 / T = ${result.f.toFixed(4)} Hz\n`;
          changed = true;
        }
        if ('f' in result && !('omega' in result)) {
          result.omega = 2 * Math.PI * result.f;
          explanation += `‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà‡πÄ‡∏ä‡∏¥‡∏á‡∏°‡∏∏‡∏°: œâ = 2œÄ f = ${result.omega.toFixed(4)} rad/s\n`;
          changed = true;
        }
        if ('omega' in result && !('f' in result)) {
          result.f = result.omega / (2 * Math.PI);
          explanation += `‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà: f = œâ / (2œÄ) = ${result.f.toFixed(4)} Hz\n`;
          changed = true;
        }
        if ('T' in result && !('omega' in result)) {
          result.omega = 2 * Math.PI / result.T;
          explanation += `‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà‡πÄ‡∏ä‡∏¥‡∏á‡∏°‡∏∏‡∏°: œâ = 2œÄ / T = ${result.omega.toFixed(4)} rad/s\n`;
          changed = true;
        }
        if ('omega' in result && !('T' in result)) {
          result.T = 2 * Math.PI / result.omega;
          explanation += `‡∏Ñ‡∏≤‡∏ö: T = 2œÄ / œâ = ${result.T.toFixed(4)} s\n`;
          changed = true;
        }

        if (system === 'spring') {
          if ('k' in result && 'm' in result && !('omega' in result)) {
            result.omega = Math.sqrt(result.k / result.m);
            explanation += `œâ = ‚àö(k/m) = ${result.omega.toFixed(4)} rad/s\n`;
            changed = true;
          }
          if ('omega' in result && 'm' in result && !('k' in result)) {
            result.k = result.m * Math.pow(result.omega, 2);
            explanation += `k = m œâ¬≤ = ${result.k.toFixed(4)} N/m\n`;
            changed = true;
          }
          if ('omega' in result && 'k' in result && !('m' in result)) {
            result.m = result.k / Math.pow(result.omega, 2);
            explanation += `m = k / œâ¬≤ = ${result.m.toFixed(4)} kg\n`;
            changed = true;
          }
          if ('k' in result && 'x' in result && !('PE' in result)) {
            result.PE = 0.5 * result.k * Math.pow(result.x, 2);
            explanation += `PE = ¬Ω k x¬≤ = ${result.PE.toFixed(4)} J\n`;
            changed = true;
          }
          if ('k' in result && 'x' in result && !('sigmaF' in result)) {
            result.sigmaF = -result.k * result.x;
            explanation += `‡πÅ‡∏£‡∏á‡∏î‡∏∂‡∏á‡∏Å‡∏•‡∏±‡∏ö: F = -k x = ${result.sigmaF.toFixed(4)} N\n`;
            changed = true;
          }
        } else if (system === 'pendulum') {
          if ('L' in result && 'g' in result && !('omega' in result)) {
            result.omega = Math.sqrt(result.g / result.L);
            explanation += `œâ = ‚àö(g/L) = ${result.omega.toFixed(4)} rad/s\n`;
            changed = true;
          }
          if ('omega' in result && 'g' in result && !('L' in result)) {
            result.L = result.g / Math.pow(result.omega, 2);
            explanation += `L = g / œâ¬≤ = ${result.L.toFixed(4)} m\n`;
            changed = true;
          }
          if ('omega' in result && 'L' in result && !('g' in result)) {
            result.g = result.L * Math.pow(result.omega, 2);
            explanation += `g = L œâ¬≤ = ${result.g.toFixed(4)} m/s¬≤\n`;
            changed = true;
          }
        }

        if ('omega' in result && 'A' in result && !('Vmax' in result)) {
          result.Vmax = result.omega * result.A;
          explanation += `Vmax = œâ A = ${result.Vmax.toFixed(4)} m/s\n`;
          changed = true;
        }
        if ('Vmax' in result && 'omega' in result && !('A' in result)) {
          result.A = result.Vmax / result.omega;
          explanation += `A = Vmax / œâ = ${result.A.toFixed(4)} m\n`;
          changed = true;
        }
        if ('omega' in result && 'A' in result && !('a_max' in result)) {
          result.a_max = Math.pow(result.omega, 2) * result.A;
          explanation += `a_max = œâ¬≤ A = ${result.a_max.toFixed(4)} m/s¬≤\n`;
          changed = true;
        }
        if ('a_max' in result && 'omega' in result && !('A' in result)) {
          result.A = result.a_max / Math.pow(result.omega, 2);
          explanation += `A = a_max / œâ¬≤ = ${result.A.toFixed(4)} m\n`;
          changed = true;
        }

        if ('m' in result && 'omega' in result && 'A' in result && !('E' in result)) {
          result.E = 0.5 * result.m * Math.pow(result.omega, 2) * Math.pow(result.A, 2);
          explanation += `‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏£‡∏ß‡∏°: E = ¬Ω m œâ¬≤ A¬≤ = ${result.E.toFixed(4)} J\n`;
          changed = true;
        }
        if ('m' in result && 'omega' in result && 'x' in result && !('PE' in result)) {
          result.PE = 0.5 * result.m * Math.pow(result.omega, 2) * Math.pow(result.x, 2);
          explanation += `‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏®‡∏±‡∏Å‡∏¢‡πå: PE = ¬Ω m œâ¬≤ x¬≤ = ${result.PE.toFixed(4)} J\n`;
          changed = true;
        }
        if ('m' in result && 'v' in result && !('KE' in result)) {
          result.KE = 0.5 * result.m * Math.pow(result.v, 2);
          explanation += `‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏à‡∏•‡∏ô‡πå: KE = ¬Ω m v¬≤ = ${result.KE.toFixed(4)} J\n`;
          changed = true;
        }
        if ('KE' in result && 'PE' in result && !('E' in result)) {
          result.E = result.KE + result.PE;
          explanation += `‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏£‡∏ß‡∏°: E = KE + PE = ${result.E.toFixed(4)} J\n`;
          changed = true;
        }

        if ('omega' in result && 'x' in result && !('a' in result)) {
          result.a = -Math.pow(result.omega, 2) * result.x;
          explanation += `‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πà‡∏á: a = -œâ¬≤ x = ${result.a.toFixed(4)} m/s¬≤\n`;
          changed = true;
        }
        if ('m' in result && 'omega' in result && 'x' in result && !('sigmaF' in result)) {
          result.sigmaF = -result.m * Math.pow(result.omega, 2) * result.x;
          explanation += `‡πÅ‡∏£‡∏á‡∏î‡∏∂‡∏á‡∏Å‡∏•‡∏±‡∏ö: F = -m œâ¬≤ x = ${result.sigmaF.toFixed(4)} N\n`;
          changed = true;
        }

        if ('omega' in result && 'A' in result && 'x' in result && !('v' in result)) {
          result.v = result.omega * Math.sqrt(Math.max(0, Math.pow(result.A, 2) - Math.pow(result.x, 2)));
          explanation += `‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß: v = œâ ‚àö(A¬≤ - x¬≤) = ${result.v.toFixed(4)} m/s (magnitude)\n`;
          changed = true;
        }

        if ('omega' in result && 't' in result && 'phi' in result && !('Phi' in result)) {
          result.Phi = result.omega * result.t + result.phi;
          explanation += `‡πÄ‡∏ü‡∏™‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: Œ¶ = œâ t + œÜ = ${result.Phi.toFixed(4)} rad\n`;
          changed = true;
        }
        if ('A' in result && 'Phi' in result && !('x' in result)) {
          result.x = result.A * Math.cos(result.Phi);
          explanation += `‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏à‡∏±‡∏î: x = A cos(Œ¶) = ${result.x.toFixed(4)} m\n`;
          changed = true;
        }
        if ('omega' in result && 'A' in result && 'Phi' in result && !('v' in result)) {
          result.v = -result.omega * result.A * Math.sin(result.Phi);
          explanation += `‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß: v = -œâ A sin(Œ¶) = ${result.v.toFixed(4)} m/s\n`;
          changed = true;
        }
        if ('omega' in result && 'A' in result && 'Phi' in result && !('a' in result)) {
          result.a = -Math.pow(result.omega, 2) * result.A * Math.cos(result.Phi);
          explanation += `‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πà‡∏á: a = -œâ¬≤ A cos(Œ¶) = ${result.a.toFixed(4)} m/s¬≤\n`;
          changed = true;
        }
      }

      let html = `<h3>‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå (${system})</h3><table><tr>`;
      for (let key of allVars) html += `<th>${varLabels[key]}</th>`;
      html += `</tr><tr>`;
      for (let key of allVars) {
        const val = result[key];
        html += `<td>${val !== undefined && !isNaN(val) ? val.toFixed(4) : ''}</td>`;
      }
      html += `</tr></table><pre>${explanation}</pre>`;

      document.getElementById('result').innerHTML = html;
      document.getElementById('result').style.display = 'block';
    }
  </script>
</body>
</html>
