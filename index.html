<!DOCTYPE html>
<html lang="th">
<head>
Â  <meta charset="utf-8"/>
Â  <title>Simple Harmonic Motion Calculator (à¹€à¸§à¸­à¸£à¹Œà¸Šà¸±à¸™à¸ªà¸¡à¸šà¸¹à¸£à¸“à¹Œ + à¸ªà¸°à¸­à¸²à¸”à¸ªà¸¸à¸”)</title>
Â  <style>
Â  Â  body { font-family: Arial, Helvetica, sans-serif; margin: 18px; background: #f7f9fb; color: #111; }
Â  Â  h1 { margin-bottom: 6px; }
Â  Â  .box { background: white; padding: 12px; border-radius: 8px; box-shadow: 0 1px 4px rgba(0,0,0,0.08); margin-bottom: 14px; }
Â  Â  h3 { margin-top: 0; }
Â  Â  label { display: inline-block; width: 160px; font-weight: bold; font-size: 0.9em; }
Â  Â  input[type="text"] { width: 80px; padding: 4px; border: 1px solid #ddd; border-radius: 4px; margin-right: 4px; }
Â  Â  button { padding: 8px 12px; margin: 4px; background: #1677ff; color: white; border: none; border-radius: 6px; cursor: pointer; }
Â  Â  button:hover { background: #0d5eff; }
Â  Â  .state-row { margin-bottom: 16px; padding: 12px; border: 1px solid #e6eef6; border-radius: 6px; background: #f9fcff; }
Â  Â  .vars-container { display: flex; flex-wrap: wrap; gap: 8px; }
Â  Â  .var-group { display: inline-block; margin: 4px 6px; vertical-align: top; min-width: 170px; }
Â  Â  table { width: 100%; border-collapse: collapse; margin-top: 8px; }
Â  Â  td, th { border: 1px solid #e6eef6; padding: 8px; text-align: center; }
Â  Â  th { background: #f0f8ff; }
Â  Â  #result { display: none; }
Â  Â  select { width: 300px; padding: 5px; }
Â  Â  .hidden { display: none !important; }
Â  Â  #helpModal {
Â  Â  Â  display: none;
Â  Â  Â  position: fixed;
Â  Â  Â  top: 50%;
Â  Â  Â  left: 50%;
Â  Â  Â  transform: translate(-50%, -50%);
Â  Â  Â  background: white;
Â  Â  Â  padding: 25px;
Â  Â  Â  border: 1px solid #ccc;
Â  Â  Â  box-shadow: 0 4px 20px rgba(0,0,0,0.2);
Â  Â  Â  z-index: 1000;
Â  Â  Â  max-height: 90vh;
Â  Â  Â  max-width: 90vw;
Â  Â  Â  overflow: auto;
Â  Â  Â  border-radius: 10px;
Â  Â  }
Â  Â  .ratio-table th { background: #fff3cd; }
Â  Â  pre { background: #f8f8f8; padding: 12px; border-radius: 6px; white-space: pre-wrap; }
Â  </style>
</head>
<body>
Â  <h1>ğŸ“˜ Simple Harmonic Motion Calculator (à¹€à¸§à¸­à¸£à¹Œà¸Šà¸±à¸™à¸ªà¸¡à¸šà¸¹à¸£à¸“à¹Œ 2025)</h1>

Â  <div class="box">
Â  Â  <button onclick="showHelp()">ğŸ“– à¸”à¸¹à¸§à¸´à¸˜à¸µà¹ƒà¸Šà¹‰à¸‡à¸²à¸™</button>
Â  Â  <button onclick="clearAll()">ğŸ§¹ à¸¥à¹‰à¸²à¸‡à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”</button>
Â  </div>

Â  <div class="box">
Â  Â  <h3>ğŸ“ à¹ƒà¸ªà¹ˆà¸‚à¹‰à¸­à¸¡à¸¹à¸¥</h3>
Â  Â  <div>
Â  Â  Â  <label>à¸£à¸°à¸šà¸š:</label>
Â  Â  Â  <select id="system" onchange="updateVisibility()">
Â  Â  Â  Â  <option value="spring">à¸ªà¸›à¸£à¸´à¸‡ (Spring)</option>
Â  Â  Â  Â  <option value="pendulum">à¸¥à¸¹à¸à¸•à¸¸à¹‰à¸¡ (Pendulum)</option>
Â  Â  Â  </select>
Â  Â  Â  &nbsp;&nbsp;
Â  Â  Â  <label>à¹‚à¸«à¸¡à¸”:</label>
Â  Â  Â  <select id="mode" onchange="updateMode()">
Â  Â  Â  Â  <option value="single">à¸ªà¸ à¸²à¸§à¸°à¹€à¸”à¸µà¸¢à¸§ (Single State)</option>
Â  Â  Â  Â  <option value="multi">à¸«à¸¥à¸²à¸¢à¸ªà¸ à¸²à¸§à¸° (à¸­à¸±à¸•à¸£à¸²à¸ªà¹ˆà¸§à¸™)</option>
Â  Â  Â  </select>
Â  Â  </div>

Â  Â  <div id="stateContainer"></div>

Â  Â  <br><br>
Â  Â  <button onclick="calculate()" style="padding: 10px 30px; font-size: 1.1em;">âš™ï¸ à¸„à¸³à¸™à¸§à¸“à¹€à¸”à¸µà¹‹à¸¢à¸§à¸™à¸µà¹‰</button>
Â  </div>

Â  <div id="result" class="box"></div>

Â  <div id="helpModal">
Â  Â  <h2>ğŸ“˜ à¸§à¸´à¸˜à¸µà¹ƒà¸Šà¹‰à¸‡à¸²à¸™ (à¹€à¸§à¸­à¸£à¹Œà¸Šà¸±à¸™à¹€à¸•à¹‡à¸¡)</h2>
Â  Â  <p>â€¢ à¹€à¸¥à¸·à¸­à¸à¸£à¸°à¸šà¸šà¹à¸¥à¸°à¹‚à¸«à¸¡à¸”<br>
Â  Â  â€¢ à¹ƒà¸ªà¹ˆà¸„à¹ˆà¸²à¸—à¸µà¹ˆà¸£à¸¹à¹‰ â†’ à¹‚à¸›à¸£à¹à¸à¸£à¸¡à¸„à¸³à¸™à¸§à¸“à¸„à¹ˆà¸²à¸—à¸µà¹ˆà¹€à¸«à¸¥à¸·à¸­à¹ƒà¸«à¹‰à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´<br>
Â  Â  à¹‚à¸«à¸¡à¸”à¸«à¸¥à¸²à¸¢à¸ªà¸ à¸²à¸§à¸° â†’ à¹à¸ªà¸”à¸‡à¸­à¸±à¸•à¸£à¸²à¸ªà¹ˆà¸§à¸™à¸—à¸¸à¸à¸•à¸±à¸§ + à¸­à¸±à¸•à¸£à¸²à¸ªà¹ˆà¸§à¸™à¸—à¸¤à¸©à¸à¸µà¸ˆà¸²à¸ m,k,L,g</p>
Â  Â  <button onclick="closeHelp()">à¸›à¸´à¸”</button>
Â  </div>

Â  <script>
Â  Â  const varLabels = {
Â  Â  Â  m: 'à¸¡à¸§à¸¥ m (kg)',
Â  Â  Â  k: 'à¸ªà¸›à¸£à¸´à¸‡ k (N/m)',
Â  Â  Â  L: 'à¸„à¸§à¸²à¸¡à¸¢à¸²à¸§ L (m)',
Â  Â  Â  g: 'à¹à¸£à¸‡à¹‚à¸™à¹‰à¸¡à¸–à¹ˆà¸§à¸‡ g (m/sÂ²)',
Â  Â  Â  sigmaF: 'à¹à¸£à¸‡à¸”à¸¶à¸‡à¸à¸¥à¸±à¸š F (N)',
Â  Â  Â  x: 'à¸à¸²à¸£à¸à¸£à¸°à¸ˆà¸±à¸” x (m)',
Â  Â  Â  v: 'à¸„à¸§à¸²à¸¡à¹€à¸£à¹‡à¸§ v (m/s)',
Â  Â  Â  a: 'à¸„à¸§à¸²à¸¡à¹€à¸£à¹ˆà¸‡ a (m/sÂ²)',
Â  Â  Â  A: 'à¹à¸­à¸¡à¸à¸¥à¸´à¸ˆà¸¹à¸” A (m)',
Â  Â  Â  Vmax: 'à¸„à¸§à¸²à¸¡à¹€à¸£à¹‡à¸§à¸ªà¸¹à¸‡à¸ªà¸¸à¸” Vmax (m/s)',
Â  Â  Â  a_max: 'à¸„à¸§à¸²à¸¡à¹€à¸£à¹ˆà¸‡à¸ªà¸¹à¸‡à¸ªà¸¸à¸” a_max (m/sÂ²)',
Â  Â  Â  KE: 'à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™à¸ˆà¸¥à¸™à¹Œ KE (J)',
Â  Â  Â  PE: 'à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™à¸¨à¸±à¸à¸¢à¹Œ PE (J)',
Â  Â  Â  E: 'à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™à¸£à¸§à¸¡ E (J)',
Â  Â  Â  omega: 'à¸„à¸§à¸²à¸¡à¸–à¸µà¹ˆà¹€à¸Šà¸´à¸‡à¸¡à¸¸à¸¡ Ï‰ (rad/s)',
Â  Â  Â  f: 'à¸„à¸§à¸²à¸¡à¸–à¸µà¹ˆ f (Hz)',
Â  Â  Â  T: 'à¸„à¸²à¸š T (s)',
Â  Â  Â  t: 'à¹€à¸§à¸¥à¸² t (s)',
Â  Â  Â  phi: 'à¹€à¸Ÿà¸ªà¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™ Ï† (rad)',
Â  Â  Â  Phi: 'à¹€à¸Ÿà¸ªà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” Î¦ (rad)'
Â  Â  };

Â  Â  const allVars = Object.keys(varLabels);

Â  Â  function createStateRow(stateNum) {
Â  Â  Â  const div = document.createElement('div');
Â  Â  Â  div.className = 'state-row';
Â  Â  Â  div.innerHTML = `<h4 style="color:#1677ff;">à¸ªà¸ à¸²à¸§à¸°à¸—à¸µà¹ˆ ${stateNum}</h4><div class="vars-container"></div>`;
Â  Â  Â  const container = div.querySelector('.vars-container');

Â  Â  Â  allVars.forEach(key => {
Â  Â  Â  Â  const group = document.createElement('div');
Â  Â  Â  Â  group.className = 'var-group';

Â  Â  Â  Â  const label = document.createElement('label');
Â  Â  Â  Â  label.textContent = varLabels[key];

Â  Â  Â  Â  const input = document.createElement('input');
Â  Â  Â  Â  input.type = 'text';
Â  Â  Â  Â  input.id = `state${stateNum}_${key}`;
Â  Â  Â  Â  input.placeholder = '0';

Â  Â  Â  Â  group.appendChild(label);
Â  Â  Â  Â  group.appendChild(input);
Â  Â  Â  Â  container.appendChild(group);
Â  Â  Â  });

Â  Â  Â  return div;
Â  Â  }

Â  Â  function updateMode() {
Â  Â  Â  const mode = document.getElementById('mode').value;
Â  Â  Â  const container = document.getElementById('stateContainer');
Â  Â  Â  container.innerHTML = '';
Â  Â  Â  const numStates = mode === 'single' ? 1 : 2;

Â  Â  Â  for (let i = 1; i <= numStates; i++) {
Â  Â  Â  Â  container.appendChild(createStateRow(i));
Â  Â  Â  }

Â  Â  Â  updateVisibility();
Â  Â  }

Â  Â  function updateVisibility() {
Â  Â  Â  const system = document.getElementById('system').value;
Â  Â  Â  const isSpring = system === 'spring';

Â  Â  Â  document.querySelectorAll('.var-group').forEach(group => {
Â  Â  Â  Â  const input = group.querySelector('input');
Â  Â  Â  Â  if (!input) return;
Â  Â  Â  Â  const key = input.id.split('_')[1];
Â  Â  Â  Â  if ((key === 'k' && !isSpring) || (key === 'L' && isSpring)) {
Â  Â  Â  Â  Â  group.classList.add('hidden');
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  group.classList.remove('hidden');
Â  Â  Â  Â  }
Â  Â  Â  });
Â  Â  }

Â  Â  function calculateState(inputs, system) {
Â  Â  Â  let result = { ...inputs };
Â  Â  Â  let explanation = '';

Â  Â  Â  if (system === 'pendulum' && !result.g) {
Â  Â  Â  Â  result.g = 9.81;
Â  Â  Â  Â  explanation += `à¹ƒà¸Šà¹‰ g = 9.81 m/sÂ² (à¸„à¹ˆà¸²à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™)\n`;
Â  Â  Â  }
Â  Â  Â  if (result.t !== undefined && result.phi === undefined) {
Â  Â  Â  Â  result.phi = 0;
Â  Â  Â  Â  explanation += `à¸ªà¸¡à¸¡à¸•à¸´ Ï† = 0 rad (à¹€à¸£à¸´à¹ˆà¸¡à¸ˆà¸²à¸à¸ˆà¸¸à¸”à¸ªà¸¡à¸”à¸¸à¸¥)\n`;
Â  Â  Â  }

Â  Â  Â  let changed = true;
Â  Â  Â  let iterations = 0;
Â  Â  Â  while (changed && iterations < 30) {
Â  Â  Â  Â  changed = false;
Â  Â  Â  Â  iterations++;

Â  Â  Â  Â  if ('f' in result && !('T' in result)) { result.T = 1 / result.f; explanation += `T = 1/f = ${result.T.toFixed(6)} s\n`; changed = true; }
Â  Â  Â  Â  if ('T' in result && !('f' in result)) { result.f = 1 / result.T; explanation += `f = 1/T = ${result.f.toFixed(6)} Hz\n`; changed = true; }
Â  Â  Â  Â  if ('omega' in result && !('T' in result)) { result.T = 2 * Math.PI / result.omega; explanation += `T = 2Ï€/Ï‰ = ${result.T.toFixed(6)} s\n`; changed = true; }
Â  Â  Â  Â  if ('T' in result && !('omega' in result)) { result.omega = 2 * Math.PI / result.T; explanation += `Ï‰ = 2Ï€/T = ${result.omega.toFixed(6)} rad/s\n`; changed = true; }
Â  Â  Â  Â  if ('f' in result && !('omega' in result)) { result.omega = 2 * Math.PI * result.f; explanation += `Ï‰ = 2Ï€f = ${result.omega.toFixed(6)} rad/s\n`; changed = true; }
Â  Â  Â  Â  if ('omega' in result && !('f' in result)) { result.f = result.omega / (2 * Math.PI); explanation += `f = Ï‰/(2Ï€) = ${result.f.toFixed(6)} Hz\n`; changed = true; }

Â  Â  Â  Â  if (system === 'spring') {
Â  Â  Â  Â  Â  if ('k' in result && 'm' in result && !('omega' in result)) { result.omega = Math.sqrt(result.k / result.m); explanation += `Ï‰ = âˆš(k/m) = ${result.omega.toFixed(6)} rad/s\n`; changed = true; }
Â  Â  Â  Â  Â  if ('omega' in result && 'm' in result && !('k' in result)) { result.k = result.m * result.omega**2; explanation += `k = m Ï‰Â² = ${result.k.toFixed(6)} N/m\n`; changed = true; }
Â  Â  Â  Â  Â  if ('omega' in result && 'k' in result && !('m' in result)) { result.m = result.k / result.omega**2; explanation += `m = k / Ï‰Â² = ${result.m.toFixed(6)} kg\n`; changed = true; }
Â  Â  Â  Â  Â  if ('k' in result && 'x' in result && !('PE' in result)) { result.PE = 0.5 * result.k * result.x**2; explanation += `PE = Â½ k xÂ² = ${result.PE.toFixed(6)} J\n`; changed = true; }
Â  Â  Â  Â  Â  if ('k' in result && 'x' in result && !('sigmaF' in result)) { result.sigmaF = -result.k * result.x; explanation += `F = -k x = ${result.sigmaF.toFixed(6)} N\n`; changed = true; }
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  if ('L' in result && 'g' in result && !('omega' in result)) { result.omega = Math.sqrt(result.g / result.L); explanation += `Ï‰ = âˆš(g/L) = ${result.omega.toFixed(6)} rad/s\n`; changed = true; }
Â  Â  Â  Â  Â  if ('omega' in result && 'g' in result && !('L' in result)) { result.L = result.g / result.omega**2; explanation += `L = g/Ï‰Â² = ${result.L.toFixed(6)} m\n`; changed = true; }
Â  Â  Â  Â  Â  if ('omega' in result && 'L' in result && !('g' in result)) { result.g = result.L * result.omega**2; explanation += `g = L Ï‰Â² = ${result.g.toFixed(6)} m/sÂ²\n`; changed = true; }
Â  Â  Â  Â  }

Â  Â  Â  Â  if ('omega' in result && 'A' in result && !('Vmax' in result)) { result.Vmax = result.omega * result.A; explanation += `Vmax = Ï‰A = ${result.Vmax.toFixed(6)} m/s\n`; changed = true; }
Â  Â  Â  Â  if ('Vmax' in result && 'omega' in result && !('A' in result)) { result.A = result.Vmax / result.omega; explanation += `A = Vmax/Ï‰ = ${result.A.toFixed(6)} m\n`; changed = true; }
Â  Â  Â  Â  if ('omega' in result && 'A' in result && !('a_max' in result)) { result.a_max = result.omega**2 * result.A; explanation += `a_max = Ï‰Â²A = ${result.a_max.toFixed(6)} m/sÂ²\n`; changed = true; }
Â  Â  Â  Â  if ('a_max' in result && 'omega' in result && !('A' in result)) { result.A = result.a_max / result.omega**2; explanation += `A = a_max/Ï‰Â² = ${result.A.toFixed(6)} m\n`; changed = true; }

Â  Â  Â  Â  if ('m' in result && 'omega' in result && 'A' in result && !('E' in result)) { result.E = 0.5 * result.m * result.omega**2 * result.A**2; explanation += `E = Â½ m Ï‰Â² AÂ² = ${result.E.toFixed(6)} J\n`; changed = true; }
Â  Â  Â  Â  if ('m' in result && 'omega' in result && 'x' in result && !('PE' in result)) { result.PE = 0.5 * result.m * result.omega**2 * result.x**2; explanation += `PE = Â½ m Ï‰Â² xÂ² = ${result.PE.toFixed(6)} J\n`; changed = true; }
Â  Â  Â  Â  if ('m' in result && 'v' in result && !('KE' in result)) { result.KE = 0.5 * result.m * result.v**2; explanation += `KE = Â½ m vÂ² = ${result.KE.toFixed(6)} J\n`; changed = true; }
Â  Â  Â  Â  if ('KE' in result && 'PE' in result && !('E' in result)) { result.E = result.KE + result.PE; explanation += `E = KE + PE = ${result.E.toFixed(6)} J\n`; changed = true; }

Â  Â  Â  Â  if ('omega' in result && 'x' in result && !('a' in result)) { result.a = -result.omega**2 * result.x; explanation += `a = -Ï‰Â²x = ${result.a.toFixed(6)} m/sÂ²\n`; changed = true; }
Â  Â  Â  Â  if ('m' in result && 'omega' in result && 'x' in result && !('sigmaF' in result)) { result.sigmaF = -result.m * result.omega**2 * result.x; explanation += `F = -m Ï‰Â² x = ${result.sigmaF.toFixed(6)} N\n`; changed = true; }

Â  Â  Â  Â  if ('omega' in result && 'A' in result && 'x' in result && !('v' in result)) {
Â  Â  Â  Â  Â  const vMag = result.omega * Math.sqrt(Math.max(0, result.A**2 - result.x**2));
Â  Â  Â  Â  Â  result.v = vMag;
Â  Â  Â  Â  Â  explanation += `|v| = Ï‰ âˆš(AÂ²âˆ’xÂ²) = ${vMag.toFixed(6)} m/s\n`;
Â  Â  Â  Â  Â  changed = true;
Â  Â  Â  Â  }

Â  Â  Â  Â  if ('omega' in result && 't' in result && 'phi' in result && !('Phi' in result)) { result.Phi = result.omega * result.t + result.phi; explanation += `Î¦ = Ï‰t + Ï† = ${result.Phi.toFixed(6)} rad\n`; changed = true; }
Â  Â  Â  Â  if ('A' in result && 'Phi' in result && !('x' in result)) { result.x = result.A * Math.cos(result.Phi); explanation += `x = A cos(Î¦) = ${result.x.toFixed(6)} m\n`; changed = true; }
Â  Â  Â  Â  if ('omega' in result && 'A' in result && 'Phi' in result && !('v' in result)) { result.v = -result.omega * result.A * Math.sin(result.Phi); explanation += `v = -Ï‰ A sin(Î¦) = ${result.v.toFixed(6)} m/s\n`; changed = true; }
Â  Â  Â  Â  if ('omega' in result && 'A' in result && 'Phi' in result && !('a' in result)) { result.a = -result.omega**2 * result.A * Math.cos(result.Phi); explanation += `a = -Ï‰Â² A cos(Î¦) = ${result.a.toFixed(6)} m/sÂ²\n`; changed = true; }
Â  Â  Â  }

Â  Â  Â  return { result, explanation };
Â  Â  }

Â  Â  function calculate() {
Â  Â  Â  const mode = document.getElementById('mode').value;
Â  Â  Â  const system = document.getElementById('system').value;
Â  Â  Â  const numStates = mode === 'single' ? 1 : 2;

Â  Â  Â  let results = [];
Â  Â  Â  let explanations = [];

Â  Â  Â  for (let i = 1; i <= numStates; i++) {
Â  Â  Â  Â  let inputs = {};
Â  Â  Â  Â  allVars.forEach(k => {
Â  Â  Â  Â  Â  const el = document.getElementById(`state${i}_${k}`);
Â  Â  Â  Â  Â  if (el && el.value.trim() !== '') inputs[k] = parseFloat(el.value);
Â  Â  Â  Â  });

Â  Â  Â  Â  const { result, explanation } = calculateState(inputs, system);
Â  Â  Â  Â  results.push(result);
Â  Â  Â  Â  explanations.push(explanation);
Â  Â  Â  }

Â  Â  Â  let html = `<h3>à¸œà¸¥à¸¥à¸±à¸à¸˜à¹Œ â€” ${system === 'spring' ? 'à¸ªà¸›à¸£à¸´à¸‡' : 'à¸¥à¸¹à¸à¸•à¸¸à¹‰à¸¡'} (${mode === 'single' ? 'à¸ªà¸ à¸²à¸§à¸°à¹€à¸”à¸µà¸¢à¸§' : 'à¸«à¸¥à¸²à¸¢à¸ªà¸ à¸²à¸§à¸°'})</h3>`;

Â  Â  Â  results.forEach((res, idx) => {
Â  Â  Â  Â  html += `<h4 style="color:#1677ff;">âœ” à¸ªà¸ à¸²à¸§à¸°à¸—à¸µà¹ˆ ${idx + 1}</h4>`;
Â  Â  Â  Â  html += '<table><tr>';
Â  Â  Â  Â  allVars.forEach(k => html += `<th>${varLabels[k]}</th>`);
Â  Â  Â  Â  html += '</tr><tr>';
Â  Â  Â  Â  allVars.forEach(k => {
Â  Â  Â  Â  Â  const val = res[k];
Â  Â  Â  Â  Â  html += `<td>${val !== undefined && !isNaN(val) ? val.toFixed(4) : ''}</td>`;
Â  Â  Â  Â  });
Â  Â  Â  Â  html += '</tr></table>';
Â  Â  Â  Â  html += `<pre>${explanations[idx] || 'à¹„à¸¡à¹ˆà¸¡à¸µà¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¹€à¸à¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡'}</pre><br>`;
Â  Â  Â  });

Â  Â  Â  if (mode === 'multi') {
Â  Â  Â  Â  html += '<h4 style="color:#d4380d;">ğŸŒŸ à¸­à¸±à¸•à¸£à¸²à¸ªà¹ˆà¸§à¸™à¸—à¸¸à¸à¸•à¸±à¸§à¹à¸›à¸£ (à¸ªà¸ à¸²à¸§à¸° 2 Ã· à¸ªà¸ à¸²à¸§à¸° 1)</h4>';
Â  Â  Â  Â  html += '<table class="ratio-table"><tr><th>à¸•à¸±à¸§à¹à¸›à¸£</th><th>à¸„à¹ˆà¸² à¸­à¸±à¸•à¸£à¸²à¸ªà¹ˆà¸§à¸™ (2/1)</th></tr>';
Â  Â  Â  Â  allVars.forEach(k => {
Â  Â  Â  Â  Â  const v1 = results[0][k];
Â  Â  Â  Â  Â  const v2 = results[1][k];
Â  Â  Â  Â  Â  if (v1 && v2 && v1 !== 0) {
Â  Â  Â  Â  Â  Â  const ratio = v2 / v1;
Â  Â  Â  Â  Â  Â  if (isFinite(ratio)) {
Â  Â  Â  Â  Â  Â  Â  html += `<tr><td>${varLabels[k]}</td><td>${ratio.toFixed(4)}</td></tr>`;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });
Â  Â  Â  Â  html += '</table>';

Â  Â  Â  Â  let ratioExp = '\nà¸­à¸±à¸•à¸£à¸²à¸ªà¹ˆà¸§à¸™à¸—à¸¤à¸©à¸à¸µà¸ˆà¸²à¸à¸à¸²à¸£à¸²à¸¡à¸´à¹€à¸•à¸­à¸£à¹Œà¸«à¸¥à¸±à¸:\n';
Â  Â  Â  Â  if (system === 'spring' && results[0].m && results[0].k && results[1].m && results[1].k) {
Â  Â  Â  Â  Â  const r_m = results[1].m / results[0].m;
Â  Â  Â  Â  Â  const r_k = results[1].k / results[0].k;
Â  Â  Â  Â  Â  const omegaRatioTheo = Math.sqrt(r_k / r_m);
Â  Â  Â  Â  Â  const TRatioTheo = Math.sqrt(r_m / r_k);
Â  Â  Â  Â  Â  ratioExp += `mâ‚‚/mâ‚ = ${r_m.toFixed(4)}\n`;
Â  Â  Â  Â  Â  ratioExp += `kâ‚‚/kâ‚ = ${r_k.toFixed(4)}\n`;
Â  Â  Â  Â  Â  ratioExp += `Ï‰â‚‚/Ï‰â‚ = âˆš(kâ‚‚/kâ‚ Ã· mâ‚‚/mâ‚) = ${omegaRatioTheo.toFixed(4)}\n`;
Â  Â  Â  Â  Â  ratioExp += `Tâ‚‚/Tâ‚ = âˆš(mâ‚‚/mâ‚ Ã· kâ‚‚/kâ‚) = ${TRatioTheo.toFixed(4)}\n`;
Â  Â  Â  Â  } else if (system === 'pendulum' && results[0].L && results[0].g && results[1].L && results[1].g) {
Â  Â  Â  Â  Â  const r_L = results[1].L / results[0].L;
Â  Â  Â  Â  Â  const r_g = results[1].g / results[0].g;
Â  Â  Â  Â  Â  const omegaRatioTheo = Math.sqrt(r_g / r_L);
Â  Â  Â  Â  Â  const TRatioTheo = Math.sqrt(r_L / r_g);
Â  Â  Â  Â  Â  ratioExp += `Lâ‚‚/Lâ‚ = ${r_L.toFixed(4)}\n`;
Â  Â  Â  Â  Â  ratioExp += `gâ‚‚/gâ‚ = ${r_g.toFixed(4)}\n`;
Â  Â  Â  Â  Â  ratioExp += `Ï‰â‚‚/Ï‰â‚ = âˆš(gâ‚‚/gâ‚ Ã· Lâ‚‚/Lâ‚) = ${omegaRatioTheo.toFixed(4)}\n`;
Â  Â  Â  Â  Â  ratioExp += `Tâ‚‚/Tâ‚ = âˆš(Lâ‚‚/Lâ‚ Ã· gâ‚‚/gâ‚) = ${TRatioTheo.toFixed(4)}\n`;
Â  Â  Â  Â  }
Â  Â  Â  Â  html += `<pre style="background:#fff3cd;">${ratioExp}</pre>`;
Â  Â  Â  }

Â  Â  Â  document.getElementById('result').innerHTML = html;
Â  Â  Â  document.getElementById('result').style.display = 'block';
Â  Â  }

Â  Â  function clearAll() {
Â  Â  Â  document.querySelectorAll('input[type="text"]').forEach(i => i.value = '');
Â  Â  Â  document.getElementById('result').style.display = 'none';
Â  Â  }

Â  Â  function showHelp() { document.getElementById('helpModal').style.display = 'block'; }
Â  Â  function closeHelp() { document.getElementById('helpModal').style.display = 'none'; }

Â  Â  updateMode();
Â  Â  updateVisibility();
Â  </script>
</body>
</html>
